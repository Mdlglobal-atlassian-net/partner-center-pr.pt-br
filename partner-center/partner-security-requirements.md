---
title: Requisitos de segurança do parceiro | Partner Center
ms.topic: article
ms.date: 08/30/2019
description: Saiba mais sobre os requisitos de segurança para consultores e parceiros que participam do programa de Provedor de Soluções na Nuvem.
author: isaiahwilliams
ms.author: iswillia
keywords: O Azure Active Directory, provedor de soluções na nuvem, programa de provedor de soluções na nuvem, CSP, fornecedor do painel de controle, CPV, autenticação multifator, MFA, modelo de aplicativo seguro, modelo de aplicativo seguro, segurança
ms.localizationpriority: medium
ms.openlocfilehash: c95ec38f928ca4032ffecebaf25f23e87d10c079
ms.sourcegitcommit: de3cdc792b6b4bbc64d1288d371623d79d535205
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/03/2019
ms.locfileid: "70215645"
---
# <a name="partner-security-requirements"></a><span data-ttu-id="b4aac-104">Requisitos de segurança de parceiros</span><span class="sxs-lookup"><span data-stu-id="b4aac-104">Partner Security Requirements</span></span>

<span data-ttu-id="b4aac-105">**Aplica-se a**</span><span class="sxs-lookup"><span data-stu-id="b4aac-105">**Applies to**</span></span>

- <span data-ttu-id="b4aac-106">Todos os parceiros no programa Provedor de Soluções na Nuvem</span><span class="sxs-lookup"><span data-stu-id="b4aac-106">All partners in the Cloud Solution Provider program</span></span>
  - <span data-ttu-id="b4aac-107">Fatura direta</span><span class="sxs-lookup"><span data-stu-id="b4aac-107">Direct bill</span></span>
  - <span data-ttu-id="b4aac-108">Provedor indireto</span><span class="sxs-lookup"><span data-stu-id="b4aac-108">Indirect provider</span></span>
  - <span data-ttu-id="b4aac-109">Revendedor indireto</span><span class="sxs-lookup"><span data-stu-id="b4aac-109">Indirect reseller</span></span>
- <span data-ttu-id="b4aac-110">Todos os Fornecedores do Painel de Controle</span><span class="sxs-lookup"><span data-stu-id="b4aac-110">All Control Panel Vendors</span></span>
- <span data-ttu-id="b4aac-111">Todos os consultores</span><span class="sxs-lookup"><span data-stu-id="b4aac-111">All Advisors</span></span>

<span data-ttu-id="b4aac-112">As maiores proteções de privacidade e segurança estão entre nossas principais prioridades.</span><span class="sxs-lookup"><span data-stu-id="b4aac-112">Greater privacy safeguards and security are among our top priorities.</span></span> <span data-ttu-id="b4aac-113">Sabemos que a melhor defesa é a prevenção e que somos tão fortes quanto nosso vínculo mais fraco.</span><span class="sxs-lookup"><span data-stu-id="b4aac-113">We know that the best defense is prevention and that we are only as strong as our weakest link.</span></span> <span data-ttu-id="b4aac-114">É por isso que precisamos de todos em nosso ecossistema, para agir e garantir que eles tenham proteções de segurança adequadas implantadas.</span><span class="sxs-lookup"><span data-stu-id="b4aac-114">That is why we need everyone in our ecosystem to act and ensure they have appropriate security protections in place.</span></span> <span data-ttu-id="b4aac-115">Para ajudar a proteger parceiros e clientes, estamos introduzindo um conjunto de requisitos de segurança obrigatórios para consultores, fornecedores do painel de controle e parceiros que participam do programa de Provedor de Soluções na Nuvem.</span><span class="sxs-lookup"><span data-stu-id="b4aac-115">To help safeguard partners and customers, we’re introducing a set of mandatory security requirements for Advisors, Control Panel Vendors, and partners participating in the Cloud Solution Provider program.</span></span>

<span data-ttu-id="b4aac-116">A partir de 1º de agosto de 2019, todos os parceiros precisam impor a autenticação multifator para os usuários, incluindo contas de serviço, em seu locatário de parceiro.</span><span class="sxs-lookup"><span data-stu-id="b4aac-116">Starting August 1, 2019 all partners are required to enforce multi-factor authentication for all users, including service accounts, in their partner tenant.</span></span>

> [!NOTE]
> <span data-ttu-id="b4aac-117">É altamente recomendável que todos os parceiros que negociam em uma nuvem soberana (21Vianet, governo dos EUA e Alemanha) atuem e adotem esses novos requisitos de segurança imediatamente.</span><span class="sxs-lookup"><span data-stu-id="b4aac-117">We strongly recommend that all partners transacting through a sovereign cloud (21Vianet, US Government, and Germany) act and adopt these new security requirements immediately.</span></span> <span data-ttu-id="b4aac-118">No entanto, esses parceiros não precisam atender aos novos requisitos de segurança em vigor em 1º de agosto de 2019.</span><span class="sxs-lookup"><span data-stu-id="b4aac-118">However, these partners are not required to meet the new security requirements effective August 1, 2019.</span></span> <span data-ttu-id="b4aac-119">Futuramente, a Microsoft fornecerá detalhes adicionais sobre a imposição desses requisitos de segurança para nuvens soberanas.</span><span class="sxs-lookup"><span data-stu-id="b4aac-119">Microsoft will provide additional details regarding the enforcement of these security requirements for sovereign clouds in the future.</span></span>

<span data-ttu-id="b4aac-120">Os termos associados aos requisitos de segurança do parceiro foram adicionados ao guia [do programa do Provedor de Soluções na Nuvem](https://go.microsoft.com/fwlink/p/?LinkId=617100).</span><span class="sxs-lookup"><span data-stu-id="b4aac-120">The terms associated with the partner security requirements have been added to the [Cloud Solution Provider program guide](https://go.microsoft.com/fwlink/p/?LinkId=617100).</span></span> <span data-ttu-id="b4aac-121">A partir de 1º de agosto de 2019, todos os parceiros que participam do programa do Provedor de Soluções na Nuvem devem estar em conformidade com os termos.</span><span class="sxs-lookup"><span data-stu-id="b4aac-121">Starting on August 1, 2019 all partners participating in the Cloud Solution Provider program should be in compliance with the terms.</span></span> <span data-ttu-id="b4aac-122">Como ele é relacionado aos consultores, os mesmos requisitos contratuais estarão em vigor.</span><span class="sxs-lookup"><span data-stu-id="b4aac-122">As it relates to Advisors the same contractual requirements will be in place.</span></span>

<span data-ttu-id="b4aac-123">Os parceiros que não implementarem os requisitos de segurança obrigatórios não poderão fazer transações no programa de Provedor de Soluções na Nuvem nem gerenciar locatários de clientes que utilizam direitos de administrador delegado, pois esses requisitos são impostos.</span><span class="sxs-lookup"><span data-stu-id="b4aac-123">Partners who do not implement the mandatory security requirements will not be able to transact in the Cloud Solution Provider program or manage customer tenants leveraging delegate admin rights, once these requirements are enforced.</span></span> <span data-ttu-id="b4aac-124">Estamos no processo de estabelecer uma data de imposição técnica para os requisitos e notificaremos a data aos parceiros com informações detalhadas.</span><span class="sxs-lookup"><span data-stu-id="b4aac-124">We are in the process of establishing a technical enforcement date for the requirements and will notify partners of the date with detailed information.</span></span>

## <a name="what-actions-do-i-need-to-take"></a><span data-ttu-id="b4aac-125">Quais ações preciso adotar?</span><span class="sxs-lookup"><span data-stu-id="b4aac-125">What actions do I need to take?</span></span>

<span data-ttu-id="b4aac-126">Considerando a natureza altamente privilegiada de um parceiro, precisamos garantir que cada usuário tenha um desafio de MFA para cada autenticação única.</span><span class="sxs-lookup"><span data-stu-id="b4aac-126">Given the highly privileged nature of being a partner we need to ensure that each user has an MFA challenge for every single authentication.</span></span> <span data-ttu-id="b4aac-127">Isso pode ser feito por uma das seguintes maneiras</span><span class="sxs-lookup"><span data-stu-id="b4aac-127">This can be accomplished through one of the following ways</span></span>

- <span data-ttu-id="b4aac-128">Implementar Azure AD Premium e garantir que a MFA seja imposta para cada usuário</span><span class="sxs-lookup"><span data-stu-id="b4aac-128">Implementing Azure AD Premium and ensure that MFA is enforced for each user</span></span>
- <span data-ttu-id="b4aac-129">Implementar [as políticas de proteção de linha de base](https://docs.microsoft.com/azure/active-directory/conditional-access/concept-baseline-protection)</span><span class="sxs-lookup"><span data-stu-id="b4aac-129">Implementing the [baseline protection policies](https://docs.microsoft.com/azure/active-directory/conditional-access/concept-baseline-protection)</span></span>
- <span data-ttu-id="b4aac-130">Implementar a solução de terceiros e garantir que a MFA seja imposta para cada usuário</span><span class="sxs-lookup"><span data-stu-id="b4aac-130">Implementing a third-party solution and ensure MFA is enforced for each user</span></span>

> [!IMPORTANT]
> <span data-ttu-id="b4aac-131">Depois que esses requisitos são tecnicamente impostos, cada autenticação única deve ter um desafio de MFA.</span><span class="sxs-lookup"><span data-stu-id="b4aac-131">Once these requirements are technically enforced every single authentication must have an MFA challenge.</span></span> <span data-ttu-id="b4aac-132">Você não poderá usar recursos de acesso condicional para evitar a autenticação usando a MFA ao acessar os serviços de nuvem comercial da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="b4aac-132">You will not be able to use any feature of conditional access to avoid authenticating using MFA when access Microsoft commercial cloud services.</span></span>

### <a name="considerations"></a><span data-ttu-id="b4aac-133">Considerações</span><span class="sxs-lookup"><span data-stu-id="b4aac-133">Considerations</span></span>

<span data-ttu-id="b4aac-134">Como esses requisitos se aplicam a todos os usuários, incluindo contas de serviço, em seu locatário do parceiro há várias considerações que precisam ser feitas para garantir uma implantação tranquila.</span><span class="sxs-lookup"><span data-stu-id="b4aac-134">Because these requirements apply to all users, including service accounts, in your partner tenant, there are several considerations that need to be made to ensure a smooth deployment.</span></span> <span data-ttu-id="b4aac-135">Essas considerações incluem a identificação de usuários no Azure AD que não podem executar a MFA, bem como aplicativos e dispositivos usados pela sua empresa que não dão suporte à autenticação moderna.</span><span class="sxs-lookup"><span data-stu-id="b4aac-135">These considerations include identifying users in Azure AD that cannot perform MFA, as well as applications and devices used by your organization that do not support modern authentication.</span></span>

<span data-ttu-id="b4aac-136">Antes de executar qualquer ação, é recomendável que você identifique o seguinte</span><span class="sxs-lookup"><span data-stu-id="b4aac-136">Prior to performing any action, it is recommended that you identify the following</span></span>

#### <a name="do-you-have-an-application-or-device-that-does-not-support-the-use-of-mfa-when-authenticating"></a><span data-ttu-id="b4aac-137">Você tem um aplicativo ou dispositivo que não dá suporte ao uso de MFA durante a autenticação?</span><span class="sxs-lookup"><span data-stu-id="b4aac-137">Do you have an application or device that does not support the use of MFA when authenticating?</span></span>

<span data-ttu-id="b4aac-138">Quando você impõe a autenticação herdada de MFA, o uso de protocolos como IMAP, POP3, SMTP etc. será bloqueado porque esses protocolos não dão suporte à MFA.</span><span class="sxs-lookup"><span data-stu-id="b4aac-138">When you enforce MFA legacy authentication use protocols such as IMAP, POP3, SMTP, etc. will be blocked because these protocols do not support MFA.</span></span> <span data-ttu-id="b4aac-139">Para resolver essa limitação, um recurso conhecido como [senhas de aplicativo](https://docs.microsoft.com/azure/active-directory/authentication/howto-mfa-mfasettings#app-passwords) pode ser usado para garantir que o aplicativo ou dispositivo ainda possa ser autenticado.</span><span class="sxs-lookup"><span data-stu-id="b4aac-139">To address this limitation a feature known as [app passwords](https://docs.microsoft.com/azure/active-directory/authentication/howto-mfa-mfasettings#app-passwords) can be used to ensure the application or device can still authenticate.</span></span> <span data-ttu-id="b4aac-140">Você deve examinar as considerações para usar senhas de aplicativo documentadas [aqui](https://docs.microsoft.com/azure/active-directory/authentication/howto-mfa-mfasettings#considerations-about-app-passwords) para determinar se elas podem ser usadas em seu ambiente.</span><span class="sxs-lookup"><span data-stu-id="b4aac-140">You should review the considerations for using app passwords documented [here](https://docs.microsoft.com/azure/active-directory/authentication/howto-mfa-mfasettings#considerations-about-app-passwords) to determine if they can be used in your environment.</span></span>

#### <a name="do-you-have-users-using-office-365-provided-by-licenses-associated-with-your-partner-tenant"></a><span data-ttu-id="b4aac-141">Você tem usuários usando o Office 365 fornecido por licenças associadas ao seu locatário do parceiro?</span><span class="sxs-lookup"><span data-stu-id="b4aac-141">Do you have users using Office 365 provided by licenses associated with your partner tenant?</span></span>

<span data-ttu-id="b4aac-142">Antes de implementar qualquer solução, é recomendável que você determine por que a versão do Microsoft Office está sendo usada pelos usuários em seu locatário do parceiro.</span><span class="sxs-lookup"><span data-stu-id="b4aac-142">Prior to implementing any solution, it is recommended that you determine why version of Microsoft Office is being used by users in your partner tenant.</span></span> <span data-ttu-id="b4aac-143">Analise [o plano de autenticação multifator para implantações do Office 365](https://docs.microsoft.com/office365/admin/security-and-compliance/multi-factor-authentication-plan#enable-mfa) antes de realizar qualquer ação.</span><span class="sxs-lookup"><span data-stu-id="b4aac-143">Review [plan for multi-factor authentication for Office 365 Deployments](https://docs.microsoft.com/office365/admin/security-and-compliance/multi-factor-authentication-plan#enable-mfa) before taking any action.</span></span> <span data-ttu-id="b4aac-144">Há uma chance de que os usuários tenham problemas de conectividade com aplicativos como o Outlook.</span><span class="sxs-lookup"><span data-stu-id="b4aac-144">There is a chance your users will experience connectivity issues with applications like Outlook.</span></span> <span data-ttu-id="b4aac-145">Antes de impor a MFA, é importante garantir que o Outlook 2013 SP1, ou posterior, esteja sendo usado e que sua empresa tenha a autenticação moderna habilitada.</span><span class="sxs-lookup"><span data-stu-id="b4aac-145">Before enforcing MFA, it important to ensure that Outlook 2013 SP1, or later, is being used and that your organization has modern authentication enabled.</span></span> <span data-ttu-id="b4aac-146">Consulte [Habilitar a autenticação moderna no Exchange Online](https://docs.microsoft.com/exchange/clients-and-mobile-in-exchange-online/enable-or-disable-modern-authentication-in-exchange-online) para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="b4aac-146">See [Enable modern authentication in Exchange Online](https://docs.microsoft.com/exchange/clients-and-mobile-in-exchange-online/enable-or-disable-modern-authentication-in-exchange-online) for more information.</span></span>

<span data-ttu-id="b4aac-147">Para habilitar a autenticação moderna para todos os dispositivos que executam o Windows, com o Microsoft Office 2013 instalado, será necessário criar duas chaves do registro.</span><span class="sxs-lookup"><span data-stu-id="b4aac-147">To enable modern authentication for any devices running Windows, that have Microsoft Office 2013 installed, you will need to create two registry keys.</span></span> <span data-ttu-id="b4aac-148">Consulte [Habilitar a autenticação moderna para o Office 2013 em](https://docs.microsoft.com/office365/admin/security-and-compliance/enable-modern-authentication)dispositivos Windows.</span><span class="sxs-lookup"><span data-stu-id="b4aac-148">See [Enable Modern Authentication for Office 2013 on Windows devices](https://docs.microsoft.com/office365/admin/security-and-compliance/enable-modern-authentication).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="b4aac-149">Se você tiver habilitado seus usuários para a MFA do Azure AD e eles tiverem dispositivos que executam o Office 2013 que não estão habilitados para autenticação moderna, eles precisarão usar senhas de aplicativo nesses dispositivos.</span><span class="sxs-lookup"><span data-stu-id="b4aac-149">If you have enabled your users for Azure AD MFA and they have any devices running Office 2013 that are not enabled for modern authentication, they will need to use App Passwords on those devices.</span></span> <span data-ttu-id="b4aac-150">Mais informações sobre senhas de aplicativo e quando/onde/como elas devem ser usadas podem ser encontradas aqui: [Senhas de aplicativo com a autenticação multifator do Microsoft Azure](https://go.microsoft.com/fwlink/p/?LinkId=528178).</span><span class="sxs-lookup"><span data-stu-id="b4aac-150">More information on App Passwords and when/where/how they should be used can be found here: [App Passwords with Azure Multi-Factor Authentication](https://go.microsoft.com/fwlink/p/?LinkId=528178).</span></span>

#### <a name="is-there-a-policy-preventing-any-of-your-users-from-using-their-mobile-devices-while-working"></a><span data-ttu-id="b4aac-151">Há uma política que impede que qualquer usuário use seus dispositivos móveis enquanto trabalha?</span><span class="sxs-lookup"><span data-stu-id="b4aac-151">Is there a policy preventing any of your users from using their mobile devices while working?</span></span>

<span data-ttu-id="b4aac-152">É importante identificar qualquer política corporativa que impeça que os funcionários usem dispositivos móveis enquanto trabalham, porque isso influenciará a solução de MFA que você implementará.</span><span class="sxs-lookup"><span data-stu-id="b4aac-152">It is important to identify any corporate policy that prevents employees from using mobile devices while working because it will influence what MFA solution you implement.</span></span> <span data-ttu-id="b4aac-153">Há soluções de MFA, como a fornecida pela implementação das políticas de [proteção de linha de base](https://docs.microsoft.com/azure/active-directory/conditional-access/concept-baseline-protection), que permitem apenas o uso de um aplicativo autenticador para verificação.</span><span class="sxs-lookup"><span data-stu-id="b4aac-153">There are MFA solutions, such as the one provided through the implementation of the [baseline protection policies](https://docs.microsoft.com/azure/active-directory/conditional-access/concept-baseline-protection), that only allow the use of an authenticator app for verification.</span></span> <span data-ttu-id="b4aac-154">Caso sua empresa tenha uma política que impeça o uso de dispositivos móveis, você deve considerar uma das seguintes opções</span><span class="sxs-lookup"><span data-stu-id="b4aac-154">In the event your organization has a policy that prevent the use of mobile devices, then you should consider one of the following options</span></span>

- <span data-ttu-id="b4aac-155">Implantar um aplicativo com senha TOTP (senha única baseada em tempo) que pode ser executado no sistema seguro</span><span class="sxs-lookup"><span data-stu-id="b4aac-155">Deploy a time-based one-time base password (TOTP) application that can run on secure system</span></span>
- <span data-ttu-id="b4aac-156">Implemente uma solução de terceiros que impõe a MFA para cada usuário no locatário do parceiro com a opção de verificação mais apropriada</span><span class="sxs-lookup"><span data-stu-id="b4aac-156">Implement a third-party solution that enforces MFA for each user in the partner tenant that provides the most appropriate verification option</span></span>
- <span data-ttu-id="b4aac-157">Comprar licenças do [Azure AD Premium](https://azure.microsoft.com/pricing/details/active-directory/) para os usuários afetados</span><span class="sxs-lookup"><span data-stu-id="b4aac-157">Purchasing [Azure AD Premium](https://azure.microsoft.com/pricing/details/active-directory/) licenses for the impacted users</span></span>

<span data-ttu-id="b4aac-158">O suporte para o uso de chaves de segurança FIDO está no roteiro para as políticas de proteção de linha de base.</span><span class="sxs-lookup"><span data-stu-id="b4aac-158">Support for the use of FIDO security keys is on the road map for the baseline protection policies.</span></span> <span data-ttu-id="b4aac-159">Depois que o suporte tiver sido adicionado, você poderá aproveitar as chaves de segurança FIDO para o segundo fator de autenticação.</span><span class="sxs-lookup"><span data-stu-id="b4aac-159">Once support has been added, you will be able to leverage FIDO security keys for the second factor of authentication.</span></span> <span data-ttu-id="b4aac-160">Até então, você estará limitado ao uso do aplicativo autenticador.</span><span class="sxs-lookup"><span data-stu-id="b4aac-160">Until then you are limited to the use of the Authenticator App.</span></span>

#### <a name="what-automation-or-integration-do-you-have-that-leverages-user-credentials-for-authentication"></a><span data-ttu-id="b4aac-161">Qual automação ou integração você tem para aproveitar as credenciais do usuário para autenticação?</span><span class="sxs-lookup"><span data-stu-id="b4aac-161">What automation or integration do you have that leverages user credentials for authentication?</span></span>

<span data-ttu-id="b4aac-162">Como o requisito é impor a MFA para cada usuário, incluindo contas de serviço, em seu diretório de parceiro, qualquer automação ou integração que aproveita as credenciais do usuário para autenticação será afetada.</span><span class="sxs-lookup"><span data-stu-id="b4aac-162">Since the requirement is to enforce MFA for each user, including service accounts, in your partner directory any automation or integration that leverages user credentials for authentication will be impacted.</span></span> <span data-ttu-id="b4aac-163">Portanto, é importante que você identifique quais contas são usadas nessas situações.</span><span class="sxs-lookup"><span data-stu-id="b4aac-163">So, it important that you identify what accounts are being used in these situations.</span></span> <span data-ttu-id="b4aac-164">Veja a seguir uma lista de exemplos de aplicativos ou serviços que devem ser considerados</span><span class="sxs-lookup"><span data-stu-id="b4aac-164">The following is a list of examples of applications or services that should be considered</span></span>

- <span data-ttu-id="b4aac-165">Painel de controle usado para provisionar recursos em nome de seus clientes</span><span class="sxs-lookup"><span data-stu-id="b4aac-165">Control panel used to provision resources on behalf of your customers</span></span>
- <span data-ttu-id="b4aac-166">Integração com qualquer plataforma usada para faturamento (pois está relacionada ao programa CSP) e suporte aos seus clientes</span><span class="sxs-lookup"><span data-stu-id="b4aac-166">Integration with any platform that is used for invoicing (as it relates to the CSP program) and supporting your customers</span></span>
- <span data-ttu-id="b4aac-167">Scripts do PowerShell que utilizam os módulos AZ, AzureRM, Azure AD, MS online etc.</span><span class="sxs-lookup"><span data-stu-id="b4aac-167">PowerShell scripts that utilize the Az, AzureRM, Azure AD, MS Online, etc. modules</span></span>

<span data-ttu-id="b4aac-168">A lista acima não é abrangente.</span><span class="sxs-lookup"><span data-stu-id="b4aac-168">The above list is not comprehensive.</span></span> <span data-ttu-id="b4aac-169">Portanto, é importante que você execute uma avaliação completa de qualquer aplicativo ou serviço em seu ambiente, que aproveite as credenciais do usuário para autenticação.</span><span class="sxs-lookup"><span data-stu-id="b4aac-169">So, it important that you perform a complete assessment of any application or service in your environment that leverages user credentials for authentication.</span></span> <span data-ttu-id="b4aac-170">Para lidar com o requisito de MFA, você deve implementar a orientação na [ estrutura de Modelo de Aplicativo Seguro ](https://docs.microsoft.com/partner-center/develop/enable-secure-app-model), sempre que possível.</span><span class="sxs-lookup"><span data-stu-id="b4aac-170">To contend with the requirement for MFA, you should implement the guidance in the [Secure Application Model framework](https://docs.microsoft.com/partner-center/develop/enable-secure-app-model) where possible.</span></span> <span data-ttu-id="b4aac-171">A seguir, estão os recursos adicionais que ajudarão você a entender como a estrutura de Modelo de Aplicativo Seguro pode ser implementada</span><span class="sxs-lookup"><span data-stu-id="b4aac-171">The following are additional resources that will help you understand how the Secure Application Model framework can be implemented</span></span>

- <span data-ttu-id="b4aac-172">[Amostras .NET do Partner Center](https://github.com/microsoft/partner-center-dotnet-samples) - Esse repositório GitHub contém amostras desenvolvidas usando o .NET, que demonstrarão como você pode implementar a estrutura do Modelo de Aplicativo Seguro.</span><span class="sxs-lookup"><span data-stu-id="b4aac-172">[Partner Center .NET Samples](https://github.com/microsoft/partner-center-dotnet-samples) - This GitHub repository contains samples, developed using .NET, that will demonstrate how you can implement the Secure Application Model framework.</span></span>
- <span data-ttu-id="b4aac-173">[Amostras Java do Partner Center](https://github.com/microsoft/partner-center-java-samples) - Esse repositório GitHub contém amostras desenvolvidas usando o Java, que demonstrarão como você pode implementar a estrutura do Modelo de Aplicativo Seguro.</span><span class="sxs-lookup"><span data-stu-id="b4aac-173">[Partner Center Java Samples](https://github.com/microsoft/partner-center-java-samples) - This GitHub repository contains samples, developed using Java, that will demonstrate how you can implement the Secure Application Model framework.</span></span>
- <span data-ttu-id="b4aac-174">[PowerShell do Partner Center – Modelo de Aplicativo Seguro](https://docs.microsoft.com/powershell/partnercenter/secure-app-model) – Este é um artigo que fornece detalhes sobre como implementar a estrutura de Modelo de Aplicativo Seguro usando o PowerShell.</span><span class="sxs-lookup"><span data-stu-id="b4aac-174">[Partner Center PowerShell - Secure Application Model](https://docs.microsoft.com/powershell/partnercenter/secure-app-model) - This is an article that provides details on how to implement the Secure Application Model framework using PowerShell.</span></span>
- <span data-ttu-id="b4aac-175">[Comunidade do grupo de orientação de segurança do Partner Center](https://www.microsoftpartnercommunity.com/t5/Partner-Center-Security-Guidance/ct-p/partner-center-security-guidance)  – Esta é uma comunidade online na qual você pode aprender sobre eventos futuros e tirar dúvidas.</span><span class="sxs-lookup"><span data-stu-id="b4aac-175">[Partner Center Security Guidance Group community](https://www.microsoftpartnercommunity.com/t5/Partner-Center-Security-Guidance/ct-p/partner-center-security-guidance) - This is online community where you can learn about upcoming events and ask any questions that you might have.</span></span>

### <a name="enforcing-mfa-for-all-users"></a><span data-ttu-id="b4aac-176">Impondo MFA para todos os usuários</span><span class="sxs-lookup"><span data-stu-id="b4aac-176">Enforcing MFA for all users</span></span>

<span data-ttu-id="b4aac-177">Esta seção abordará como você pode usar as [políticas de proteção de linha de base](https://docs.microsoft.com/azure/active-directory/conditional-access/concept-baseline-protection) para impor a MFA para cada usuário, incluindo contas de serviço, em seu locatário de parceiro.</span><span class="sxs-lookup"><span data-stu-id="b4aac-177">This section will cover how you can use the [baseline protection policies](https://docs.microsoft.com/azure/active-directory/conditional-access/concept-baseline-protection) to enforce MFA for each user, including service accounts, in your partner tenant.</span></span> <span data-ttu-id="b4aac-178">Se você estiver planejando usar o Azure AD Premium, siga as etapas documentadas [aqui.](https://docs.microsoft.com/azure/active-directory/authentication/howto-mfa-getstarted)</span><span class="sxs-lookup"><span data-stu-id="b4aac-178">If you are planning to use Azure AD Premium, then follow the steps documented [here](https://docs.microsoft.com/azure/active-directory/authentication/howto-mfa-getstarted).</span></span>

> [!NOTE]
> <span data-ttu-id="b4aac-179">Uma solução de terceiros, que é compatível com o Azure AD, pode ser usada para impor a MFA para todos os usuários, incluindo contas de serviço.</span><span class="sxs-lookup"><span data-stu-id="b4aac-179">A third-party solution, that is compatible with Azure AD, can be used to enforce MFA for all users, including, service accounts.</span></span> <span data-ttu-id="b4aac-180">Consulte a documentação do fornecedor para obter mais detalhes sobre como a solução deve ser implementada.</span><span class="sxs-lookup"><span data-stu-id="b4aac-180">Refer to the documentation from the vendor for more details on how the solution should be implemented.</span></span>

<span data-ttu-id="b4aac-181">As políticas de proteção de linha de base são um conjunto de políticas predefinidas que ajudam a proteger as empresas contra muitos ataques comuns.</span><span class="sxs-lookup"><span data-stu-id="b4aac-181">Baseline protection policies are a set of predefined policies that help protect organizations against many common attacks.</span></span> <span data-ttu-id="b4aac-182">Esses ataques comuns podem incluir pulverização, reprodução e phishing de senha.</span><span class="sxs-lookup"><span data-stu-id="b4aac-182">These common attacks can include password spray, replay, and phishing.</span></span> <span data-ttu-id="b4aac-183">As políticas de proteção de linha de base estão disponíveis em todas as edições do Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="b4aac-183">Baseline protection policies are available in all editions of Azure Active Directory.</span></span> <span data-ttu-id="b4aac-184">A Microsoft está disponibilizando essas políticas de proteção de linha de base a todos, para permitir que os clientes e parceiros implementem as melhores práticas de segurança.</span><span class="sxs-lookup"><span data-stu-id="b4aac-184">Microsoft is making these baseline protection policies available to everyone to further enable customers and partners to implement best-in-class security practices.</span></span>

<span data-ttu-id="b4aac-185">As duas políticas de proteção de linha de base que devem ser habilitadas são descritas na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="b4aac-185">The two baseline protection policies that should be enabled are described in the table below.</span></span>

|<span data-ttu-id="b4aac-186">**Política**</span><span class="sxs-lookup"><span data-stu-id="b4aac-186">**Policy**</span></span>| |
|-----|-----|
|<span data-ttu-id="b4aac-187">**Exigir MFA para administradores**</span><span class="sxs-lookup"><span data-stu-id="b4aac-187">**Require MFA for admins**</span></span>|<span data-ttu-id="b4aac-188">Habilitar a política de Exigir MFA para administradores fará com que os usuários nas funções de administrador se registrem para MFA usando o aplicativo autenticador.</span><span class="sxs-lookup"><span data-stu-id="b4aac-188">Enabling the Require MFA for admins policy, will require users in the administrator roles to register for MFA using the Authenticator App.</span></span> <span data-ttu-id="b4aac-189">Depois que o registro de MFA for concluído, os administradores precisarão executar a MFA sempre que entrarem.</span><span class="sxs-lookup"><span data-stu-id="b4aac-189">Once MFA registration is complete, administrators will need to perform MFA every time they sign-in.</span></span>|
|<span data-ttu-id="b4aac-190">**Proteção do usuário final**</span><span class="sxs-lookup"><span data-stu-id="b4aac-190">**End user protection**</span></span>|<span data-ttu-id="b4aac-191">A proteção do usuário final é uma política de proteção de linha de base da MFA, baseada em risco, que protege todos os usuários em um diretório.</span><span class="sxs-lookup"><span data-stu-id="b4aac-191">End user protection is a risk-based MFA baseline protection policy that protects all users in a directory.</span></span> <span data-ttu-id="b4aac-192">A habilitação dessa política exige que todos os usuários se registrem na MFA usando o aplicativo autenticador.</span><span class="sxs-lookup"><span data-stu-id="b4aac-192">Enabling this policy requires all users to register for MFA using the Authenticator App.</span></span> <span data-ttu-id="b4aac-193">Os usuários podem ignorar o prompt de registro de MFA por 14 dias, após o qual eles serão impedidos de entrar até que se registrem na MFA.</span><span class="sxs-lookup"><span data-stu-id="b4aac-193">Users can ignore the MFA registration prompt for 14 days, after which they will be blocked from signing in until they register for MFA.</span></span> <span data-ttu-id="b4aac-194">Depois de registrado para MFA, os usuários serão solicitados a receber MFA somente durante tentativas de inserção de credenciais arriscadas.</span><span class="sxs-lookup"><span data-stu-id="b4aac-194">Once registered for MFA, users will be prompted for MFA only during risky sign-in attempts.</span></span> <span data-ttu-id="b4aac-195">As contas de usuário comprometidas são bloqueadas até que a senha seja redefinida e os eventos de risco tenham sido ignorados.</span><span class="sxs-lookup"><span data-stu-id="b4aac-195">Compromised user accounts are blocked until their password is reset and risk events have been dismissed.</span></span>|

<span data-ttu-id="b4aac-196">Quando essas políticas estiverem habilitadas, cada usuário poderá utilizar A MFA do Azure usando o aplicativo autenticador para verificação sem custo adicional.</span><span class="sxs-lookup"><span data-stu-id="b4aac-196">When these policies are enabled, each user will be able to utilize Azure MFA using the Authenticator App for verification at no additional cost.</span></span>

#### <a name="configure-self-service-password-reset"></a><span data-ttu-id="b4aac-197">Configurar a Redefinição de Senha com Autoatendimento</span><span class="sxs-lookup"><span data-stu-id="b4aac-197">Configure Self Service Password Reset</span></span>

<span data-ttu-id="b4aac-198">A redefinição de senha de autoatendimento (SSPR) é um recurso do Azure Active Directory que permite que os usuários redefinam suas senhas sem precisar entrar em contato com a equipe de suporte.</span><span class="sxs-lookup"><span data-stu-id="b4aac-198">Self-service password reset (SSPR) is an Azure Active Directory feature that enables users to reset their passwords without needing to contact their support team.</span></span> <span data-ttu-id="b4aac-199">Os usuários devem se registrar ou ser registrados para redefinição de senha de autoatendimento antes de usar o serviço.</span><span class="sxs-lookup"><span data-stu-id="b4aac-199">Users must register for or be registered for self-service password reset before using the service.</span></span> <span data-ttu-id="b4aac-200">Durante o registro, o usuário escolhe um ou mais métodos de autenticação habilitados pela empresa.</span><span class="sxs-lookup"><span data-stu-id="b4aac-200">During registration, the user chooses one or more authentication methods enabled by their organization.</span></span>

<span data-ttu-id="b4aac-201">Quando a [política de proteção de usuário final](https://docs.microsoft.com/azure/active-directory/conditional-access/howto-baseline-protect-end-users) de linha de base estiver habilitada, todas as contas de usuário comprometidas serão bloqueadas até que sua senha seja redefinida e os eventos de risco tenham sido descartados.</span><span class="sxs-lookup"><span data-stu-id="b4aac-201">When the [End user protection](https://docs.microsoft.com/azure/active-directory/conditional-access/howto-baseline-protect-end-users) baseline protection policy is enabled, any compromised user accounts will be blocked until their password is reset and the risk events have been dismissed.</span></span> <span data-ttu-id="b4aac-202">Considerando isso, é recomendável que cada usuário administrador global execute o seguinte para se registrar no SSPR para que eles não sejam bloqueados.</span><span class="sxs-lookup"><span data-stu-id="b4aac-202">Considering this it is recommended that each user, who is a global admin, perform the following to register for SSPR so they do not get locked out.</span></span>

1. <span data-ttu-id="b4aac-203">Navegue até a [página de instalação do SSPR](https://aka.ms/ssprsetup)</span><span class="sxs-lookup"><span data-stu-id="b4aac-203">Browse to the [SSPR setup page](https://aka.ms/ssprsetup)</span></span>
2. <span data-ttu-id="b4aac-204">Digite seu nome de usuário e senha</span><span class="sxs-lookup"><span data-stu-id="b4aac-204">Enter your username and password</span></span>
3. <span data-ttu-id="b4aac-205">Configure pelo menos uma das opções de verificações que serão usadas para verificar quem é você ao redefinir sua senha.</span><span class="sxs-lookup"><span data-stu-id="b4aac-205">Configure at least one of the verifications options that will be used to verify who you are when resetting your password.</span></span>  

<span data-ttu-id="b4aac-206">Quando uma conta tiver sido comprometida, um administrador precisará tomar medidas para restaurar o acesso ao usuário afetado.</span><span class="sxs-lookup"><span data-stu-id="b4aac-206">When an account has been compromised an administrator will need to take action to restore access for the impacted user.</span></span> <span data-ttu-id="b4aac-207">Consulte as [etapas para desbloquear um usuário](#recovering-compromised-accounts) para obter detalhes sobre o processo para desbloquear o usuário.</span><span class="sxs-lookup"><span data-stu-id="b4aac-207">See the [steps to unblock a user](#recovering-compromised-accounts) for details on the process to unblock the user.</span></span>

#### <a name="require-mfa-for-admins"></a><span data-ttu-id="b4aac-208">Exigir MFA para administradores</span><span class="sxs-lookup"><span data-stu-id="b4aac-208">Require MFA for admins</span></span>

<span data-ttu-id="b4aac-209">A política *Exigir MFA para administrador* requer MFA para as funções de diretório a seguir, consideradas como as funções de Azure Active Directory mais privilegiadas:</span><span class="sxs-lookup"><span data-stu-id="b4aac-209">The *Require MFA for admin* baseline policy requires MFA for the following directory roles, considered to be the most privileged Azure Active Directory roles:</span></span>

- <span data-ttu-id="b4aac-210">Administrador global</span><span class="sxs-lookup"><span data-stu-id="b4aac-210">Global administrator</span></span>
- <span data-ttu-id="b4aac-211">Administrador do SharePoint</span><span class="sxs-lookup"><span data-stu-id="b4aac-211">SharePoint administrator</span></span>
- <span data-ttu-id="b4aac-212">Administradores do Exchange</span><span class="sxs-lookup"><span data-stu-id="b4aac-212">Exchange administrator</span></span>
- <span data-ttu-id="b4aac-213">Administrador de acesso condicional</span><span class="sxs-lookup"><span data-stu-id="b4aac-213">Conditional access administrator</span></span>
- <span data-ttu-id="b4aac-214">Administrador de segurança</span><span class="sxs-lookup"><span data-stu-id="b4aac-214">Security administrator</span></span>
- <span data-ttu-id="b4aac-215">Administrador de assistência técnica/administrador de senha</span><span class="sxs-lookup"><span data-stu-id="b4aac-215">Helpdesk administrator / Password administrator</span></span>
- <span data-ttu-id="b4aac-216">Administrador de cobrança</span><span class="sxs-lookup"><span data-stu-id="b4aac-216">Billing administrator</span></span>
- <span data-ttu-id="b4aac-217">Administrador do usuário</span><span class="sxs-lookup"><span data-stu-id="b4aac-217">User administrator</span></span>

<span data-ttu-id="b4aac-218">Ao habilitar a política de Exigir MFA para administradores, as nove funções de administrador acima exigirá o registro para MFA usando o aplicativo autenticador.</span><span class="sxs-lookup"><span data-stu-id="b4aac-218">Upon enabling the Require MFA for admins policy, the above nine administrator roles will be required to register for MFA using the Authenticator App.</span></span> <span data-ttu-id="b4aac-219">Depois que o registro de MFA for concluído, os administradores precisarão executar a MFA sempre que entrarem.</span><span class="sxs-lookup"><span data-stu-id="b4aac-219">Once MFA registration is complete, administrators will need to perform MFA every single time they sign-in.</span></span>

<span data-ttu-id="b4aac-220">Se sua empresa tiver essas contas em uso em scripts ou código, considere substituí-las [por identidades gerenciadas](https://docs.microsoft.com/azure/active-directory/managed-identities-azure-resources/overview).</span><span class="sxs-lookup"><span data-stu-id="b4aac-220">If your organization has these accounts in use in scripts or code, consider replacing them with [managed identities](https://docs.microsoft.com/azure/active-directory/managed-identities-azure-resources/overview).</span></span>

<span data-ttu-id="b4aac-221">Para habilitar essa política e proteger seus administradores:</span><span class="sxs-lookup"><span data-stu-id="b4aac-221">To enable this policy and protect your administrators:</span></span>

1. <span data-ttu-id="b4aac-222">Entre no **portal do Azure** como administrador global, administrador de segurança ou administrador de acesso condicional.</span><span class="sxs-lookup"><span data-stu-id="b4aac-222">Sign in to the **Azure portal** as a Global Administrator, Security Administrator, or Conditional Access Administrator.</span></span>
2. <span data-ttu-id="b4aac-223">Navegue até o **Azure Active Directory** > **Acesso Condicional**.</span><span class="sxs-lookup"><span data-stu-id="b4aac-223">Browse to **Azure Active Directory** > **Conditional Access**.</span></span>
3. <span data-ttu-id="b4aac-224">Na lista de políticas, selecione a **política de linha de base: Exigir a MFA para Administradores**.</span><span class="sxs-lookup"><span data-stu-id="b4aac-224">In the list of policies, select **Baseline policy: Require MFA for admins**.</span></span>
4. <span data-ttu-id="b4aac-225">Defina **Habilitar política** para **Usar política imediatamente**.</span><span class="sxs-lookup"><span data-stu-id="b4aac-225">Set **Enable policy** to **Use policy immediately**.</span></span>
5. <span data-ttu-id="b4aac-226">Clique em  **Salvar**.</span><span class="sxs-lookup"><span data-stu-id="b4aac-226">Click **Save**.</span></span>

> [!WARNING]
> <span data-ttu-id="b4aac-227">Antes de habilitar essa política, verifique se os usuários não estão usando protocolos de autenticação herdados.</span><span class="sxs-lookup"><span data-stu-id="b4aac-227">Before you enable this policy, make sure your users are not using legacy authentication protocols.</span></span> <span data-ttu-id="b4aac-228">Com a implementação desta política, a autenticação herdada será bloqueada.</span><span class="sxs-lookup"><span data-stu-id="b4aac-228">Through the implementation of this policy legacy authentication will be blocked.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="b4aac-229">Há um problema conhecido que afeta sua capacidade de se conectar ao PowerShell do Exchange Online usando privilégios administrativos delegados.</span><span class="sxs-lookup"><span data-stu-id="b4aac-229">There is a known issue, that impacts your ability to connect to Exchange Online PowerShell using delegated administrative privileges.</span></span> <span data-ttu-id="b4aac-230">Consulte o problema conhecido do[PowerShell do Exchange Online](#exchange-online-powershell) antes de habilitar essa política se você estiver usando este módulo do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="b4aac-230">See the [Exchange Online PowerShell](#exchange-online-powershell) known issue prior to enabling this policy if you using this PowerShell module.</span></span>

#### <a name="end-user-protection"></a><span data-ttu-id="b4aac-231">Proteção do usuário final</span><span class="sxs-lookup"><span data-stu-id="b4aac-231">End user protection</span></span>

<span data-ttu-id="b4aac-232">A política de linha de base de proteção do usuário final protege todos os usuários em um diretório.</span><span class="sxs-lookup"><span data-stu-id="b4aac-232">The End user protection baseline policy protects all users in a directory.</span></span> <span data-ttu-id="b4aac-233">A habilitação dessa política exige que todos os usuários se registrem na MFA do Azure em até 14 dias.</span><span class="sxs-lookup"><span data-stu-id="b4aac-233">Enabling this policy requires all users to register for Azure MFA within 14 days.</span></span> <span data-ttu-id="b4aac-234">Depois de registrados para MFA, os usuários serão solicitados a receber MFA somente durante tentativas de inserção de credenciais arriscadas.</span><span class="sxs-lookup"><span data-stu-id="b4aac-234">Once registered, users will be prompted for MFA only during risky sign-in attempts.</span></span> <span data-ttu-id="b4aac-235">Contas de usuário comprometidas são bloqueadas até a redefinição de senha e risco de demissão.</span><span class="sxs-lookup"><span data-stu-id="b4aac-235">Compromised user accounts are blocked until password reset and risk dismissal.</span></span>

<span data-ttu-id="b4aac-236">A **Política de linha de base: proteção de usuário final** vem pré-configurado e aparecerá na parte superior quando você navegar para a folha Acesso Condicional no portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="b4aac-236">The policy **Baseline policy: End user protection** comes pre-configured and will show up at the top when you navigate to the Conditional Access blade in Azure portal.</span></span>

<span data-ttu-id="b4aac-237">Para habilitar essa política e proteger seus usuários:</span><span class="sxs-lookup"><span data-stu-id="b4aac-237">To enable this policy and protect your users:</span></span>

1. <span data-ttu-id="b4aac-238">Entre no **portal do Azure** como administrador global, administrador de segurança ou administrador de acesso condicional.</span><span class="sxs-lookup"><span data-stu-id="b4aac-238">Sign in to the **Azure portal** as a Global Administrator, Security Administrator, or Conditional Access Administrator.</span></span>
2. <span data-ttu-id="b4aac-239">Navegue até o **Azure Active Directory** > **Acesso Condicional**.</span><span class="sxs-lookup"><span data-stu-id="b4aac-239">Browse to **Azure Active Directory** > **Conditional Access**.</span></span>
3. <span data-ttu-id="b4aac-240">Na lista de políticas, selecione a **política de linha de base: Proteção do usuário final (visualização)** .</span><span class="sxs-lookup"><span data-stu-id="b4aac-240">In the list of policies, select **Baseline policy: End user protection (preview)**.</span></span>
4. <span data-ttu-id="b4aac-241">Defina **Habilitar política** para **Usar política imediatamente**.</span><span class="sxs-lookup"><span data-stu-id="b4aac-241">Set **Enable policy** to **Use policy immediately**.</span></span>
5. <span data-ttu-id="b4aac-242">Clique em  **Salvar**.</span><span class="sxs-lookup"><span data-stu-id="b4aac-242">Click **Save**.</span></span>

> [!WARNING]
> <span data-ttu-id="b4aac-243">Antes de habilitar essa política, verifique se os usuários não estão usando protocolos de autenticação herdados.</span><span class="sxs-lookup"><span data-stu-id="b4aac-243">Before you enable this policy, make sure your users are not using legacy authentication protocols.</span></span> <span data-ttu-id="b4aac-244">Com a implementação desta política, a autenticação herdada será bloqueada.</span><span class="sxs-lookup"><span data-stu-id="b4aac-244">Through the implementation of this policy legacy authentication will be blocked.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="b4aac-245">Há um problema conhecido que afeta sua capacidade de se conectar ao PowerShell do Exchange Online usando privilégios administrativos delegados.</span><span class="sxs-lookup"><span data-stu-id="b4aac-245">There is a known issues, that impacts your ability to connect to Exchange Online PowerShell using delegated administrative privileges.</span></span> <span data-ttu-id="b4aac-246">Consulte o problema conhecido do[PowerShell do Exchange Online](#exchange-online-powershell) antes de habilitar essa política se você estiver usando este módulo do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="b4aac-246">See the [Exchange Online PowerShell](#exchange-online-powershell) known issue prior to enabling this policy if you using this PowerShell module.</span></span>

## <a name="assessing-your-environment"></a><span data-ttu-id="b4aac-247">Avaliação do seu ambiente</span><span class="sxs-lookup"><span data-stu-id="b4aac-247">Assessing your environment</span></span>

<span data-ttu-id="b4aac-248">Com um dos requisitos atuais de segurança do parceiro, você precisa ter a MFA aplicada para cada usuário em seu locatário parceiro.</span><span class="sxs-lookup"><span data-stu-id="b4aac-248">Through one of the current partner security requirements, you are required to have MFA enforced for each user in your partner tenant.</span></span> <span data-ttu-id="b4aac-249">Como esse requisito pode ser cumprido com vários métodos diferentes, pode ser difícil avaliar se são necessárias ações adicionais.</span><span class="sxs-lookup"><span data-stu-id="b4aac-249">Since this requirement can be fulfilled through a number of different methods it can prove difficult to assess if any additional actions are required.</span></span> <span data-ttu-id="b4aac-250">Você pode aproveitar ferramentas como os logs de auditoria do Azure Active Directory e [ Microsoft Secure Score ](https://docs.microsoft.com/office365/securitycompliance/microsoft-secure-score) para avaliar se são necessárias ações adicionais para proteger seu locatário com a MFA.</span><span class="sxs-lookup"><span data-stu-id="b4aac-250">You can leverage tools like the Azure Active Directory audit logs and [Microsoft Secure Score](https://docs.microsoft.com/office365/securitycompliance/microsoft-secure-score) to evaluate if any additional actions are required to secure your tenant with the MFA.</span></span> <span data-ttu-id="b4aac-251">A Microsoft está trabalhando em uma experiência no Partner Center para fornecer uma verificação rápida de conformidade nos requisitos de MFA e do Modelo de Aplicativo Seguro.</span><span class="sxs-lookup"><span data-stu-id="b4aac-251">Microsoft is working on an experience in Partner Center to provide a quick compliance check on the MFA and the Secure Application Model requirements.</span></span>

<span data-ttu-id="b4aac-252">O Microsoft Secure Score oferece visualizações robustas, integração com outros produtos da Microsoft, comparação de sua pontuação com outras empresas, filtragem por categoria e muito mais.</span><span class="sxs-lookup"><span data-stu-id="b4aac-252">Microsoft Secure Score gives you robust visualizations, integration with other Microsoft products, comparison of your score with other companies, filtering by category, and much more.</span></span> <span data-ttu-id="b4aac-253">Com essa ferramenta, você pode concluir as ações de melhoria de segurança em sua organização e acompanhar o histórico de sua pontuação.</span><span class="sxs-lookup"><span data-stu-id="b4aac-253">With this tool, you can complete security improvement actions within your organization and track the history of your score.</span></span> <span data-ttu-id="b4aac-254">A pontuação também pode refletir quando soluções de terceiros tiverem resolvido as ações de aperfeiçoamento recomendadas.</span><span class="sxs-lookup"><span data-stu-id="b4aac-254">The score can also reflect when third-party solutions have addressed recommended improvement actions.</span></span>

![Classificação de Segurança da Microsoft](images/security/secure-score.png)

> [!NOTE]
> <span data-ttu-id="b4aac-256">As ações que você pode tomar para melhorar a classificação de segurança da Microsoft podem levar até 24 horas para serem refletidas.</span><span class="sxs-lookup"><span data-stu-id="b4aac-256">Actions you can take to improve your Microsoft Secure Score may take up to 24 hours to be reflected.</span></span>

<span data-ttu-id="b4aac-257">A Classificação de Segurança da Microsoft fornecerá apenas uma representação numérica da sua postura de segurança.</span><span class="sxs-lookup"><span data-stu-id="b4aac-257">Microsoft Secure Score will only provide a numerical representation of your security posture.</span></span> <span data-ttu-id="b4aac-258">Para entender melhor o que ou quem está autenticando sem precisar fornecer a MFA, é recomendável consultar os logs de auditoria do Azure Active Directory.</span><span class="sxs-lookup"><span data-stu-id="b4aac-258">To better understand what or who is authenticating without being challenged for MFA, it is recommended to query the Azure Active Directory audit logs.</span></span> <span data-ttu-id="b4aac-259">Isso pode ser feito usando o módulo[PowerShell do Azure](https://docs.microsoft.com/powershell/azure/overview) e o script abaixo.</span><span class="sxs-lookup"><span data-stu-id="b4aac-259">This can be accomplished using the [Azure PowerShell](https://docs.microsoft.com/powershell/azure/overview) module and the script below.</span></span> <span data-ttu-id="b4aac-260">Ele gerará um relatório que fornece informações sobre quais tentativas de autenticação ocorreram no último dia que não necessitaram de MFA.</span><span class="sxs-lookup"><span data-stu-id="b4aac-260">It will generate a report that provides insight into what authentication attempts have occurred over the past day that were not challenged for MFA.</span></span>

```powershell
Login-AzAccount
$context = Get-AzContext

function Get-SignInEvents
{
    param([string]$userId)

    $content = '{"startDateTime":"' + (Get-Date).AddDays(-1).ToUniversalTime().ToString("yyyy-MM-ddT05:00:00.000Z") + '","endDateTime":"' + (Get-Date).ToUniversalTime().ToString("yyyy-MM-ddTHH:mm:ss.fffZ")  + '","userId":"' + $userId +'","riskState":[],"totalRisk":[],"realtimeRisk":[],"tokenIssuerType":[],"isAdfsEnabled":false}'

    $token = [Microsoft.Azure.Commands.Common.Authentication.AzureSession]::Instance.AuthenticationFactory.Authenticate($context.Account, $context.Environment, $context.Tenant.Id, $null, "Never", $null, "74658136-14ec-4630-ad9b-26e160ff0fc6")

    $headers = @{
    'Authorization' = 'Bearer ' + $token.AccessToken
    'Content-Type' = 'application/json'
        'X-Requested-With'= 'XMLHttpRequest'
        'x-ms-client-request-id'= [guid]::NewGuid()
        'x-ms-correlation-id' = [guid]::NewGuid()
    }

    Invoke-RestMethod -Body $content -Header $headers -Method POST -Uri "https://main.iam.ad.ext.azure.com/api/Reports/SignInEventsV3"
}

$report = $()

Get-AzADUser | foreach {
    $events = Get-SignInEvents $_.Id
    $report += $events.Items
}

$report | Where-Object {$_.mfaRequired -eq $false} | Select-Object userPrincipalName, userDisplayName, createdDateTime, resourceDisplayName, loginSucceeded, failureReason, mfaRequired, mfaAuthMethod, mfaAuthDetail, mfaResult, @{Name='policies'; Expression={[string]::join(',', $($_.conditionalAccessPolicies | Select-Object displayName).displayName )}}, conditionalAccessStatus | Export-Csv report.csv
```

<span data-ttu-id="b4aac-261">Depois de executar o script acima, os detalhes estarão disponíveis no arquivo Report.csv.</span><span class="sxs-lookup"><span data-stu-id="b4aac-261">After running the above script, the details will be available in the report.csv file.</span></span> <span data-ttu-id="b4aac-262">Ele conterá uma lista de tentativas de autenticação que ocorreram no último dia em que o usuário não precisou de MFA.</span><span class="sxs-lookup"><span data-stu-id="b4aac-262">It will contain a list of authentication attempts that have occurred over the last day where the user was not challenged for MFA.</span></span> <span data-ttu-id="b4aac-263">Será necessário examinar cada entrada para determinar se esse é o comportamento esperado e agir, se necessário.</span><span class="sxs-lookup"><span data-stu-id="b4aac-263">You will need to review each entry to determine if this is the expected behavior and act if necessary.</span></span>

![Relatório de avaliação](images/security/assessment-report.png)

## <a name="common-issues"></a><span data-ttu-id="b4aac-265">Problemas comuns</span><span class="sxs-lookup"><span data-stu-id="b4aac-265">Common issues</span></span>

### <a name="azure-active-directory"></a><span data-ttu-id="b4aac-266">Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="b4aac-266">Azure Active Directory</span></span>

#### <a name="aadsts50076"></a><span data-ttu-id="b4aac-267">AADSTS50076</span><span class="sxs-lookup"><span data-stu-id="b4aac-267">AADSTS50076</span></span>

<span data-ttu-id="b4aac-268">Depois de habilitar as políticas de linha de base, você pode descobrir que há uma exceção abaixo na automação ou integração</span><span class="sxs-lookup"><span data-stu-id="b4aac-268">After enabling the baseline policies, you might find that your automation or integration is encountering an exception like the following</span></span>

    AADSTS50076: Due to a configuration change made by your administrator, or because you moved to a new location, you must use multi-factor authentication to access 'MyApp'.

<span data-ttu-id="b4aac-269">A razão para essa exceção é que você está autenticando usando credenciais de usuário e a MFA agora é necessária.</span><span class="sxs-lookup"><span data-stu-id="b4aac-269">The reason for this exception is that you are authenticating using user credentials and MFA is now required.</span></span> <span data-ttu-id="b4aac-270">Para resolver essa exceção, você precisará utilizar um token de acesso para autenticação.</span><span class="sxs-lookup"><span data-stu-id="b4aac-270">To address this exception, you will need to utilize an access token for authentication.</span></span> <span data-ttu-id="b4aac-271">Consulte o [guia do Modelo de Aplicativo Seguro](http://assetsprod.microsoft.com/secure-application-model-guide.pdf) para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="b4aac-271">See the [Secure Application Model guide](http://assetsprod.microsoft.com/secure-application-model-guide.pdf) for more information.</span></span>

>[!IMPORTANT]
><span data-ttu-id="b4aac-272">Os módulos de APIs e PowerShell mais modernos utilizam um token de acesso para autenticação.</span><span class="sxs-lookup"><span data-stu-id="b4aac-272">Most modern APIs and PowerShell modules support the ability to utilize an access token for authentication.</span></span> <span data-ttu-id="b4aac-273">No entanto, alguns ainda não dão suporte a essa funcionalidade.</span><span class="sxs-lookup"><span data-stu-id="b4aac-273">However, there are some that currently do not support this functionality.</span></span> <span data-ttu-id="b4aac-274">Se você precisar de ajuda para determinar se o módulo da API ou do PowerShell que você está tentando utilizar dá suporte ao uso de um token de acesso para autenticação, publique uma mensagem na Comunidade [Partner Center Security Guidance Group](https://www.microsoftpartnercommunity.com/t5/Partner-Center-Security-Guidance/ct-p/partner-center-security-guidance).</span><span class="sxs-lookup"><span data-stu-id="b4aac-274">If you need help determining if the API or PowerShell module you are trying to leverage supports the use of an access token for authentication, then post a message on the [Partner Center Security Guidance Group](https://www.microsoftpartnercommunity.com/t5/Partner-Center-Security-Guidance/ct-p/partner-center-security-guidance) community.</span></span>

#### <a name="aadsts700082"></a><span data-ttu-id="b4aac-275">AADSTS700082</span><span class="sxs-lookup"><span data-stu-id="b4aac-275">AADSTS700082</span></span>

<span data-ttu-id="b4aac-276">Depois de implementar a estrutura de modelo de aplicativo seguro, há uma chance de que você receba a seguinte exceção 90 dias depois de gerar o token de atualização inicial</span><span class="sxs-lookup"><span data-stu-id="b4aac-276">Once you have implemented the Secure Application Model framework there is a chance you will receive the following exception 90 days after generating the initial refresh token</span></span>

    The refresh token has expired due to inactivity. The token was issued on 2019-01-02T09:19:53.5422744Z and was inactive for 90.00:00:00

<span data-ttu-id="b4aac-277">Com relação ao Azure Active Directory, o tempo de vida máximo de um token de atualização é de 90 dias.</span><span class="sxs-lookup"><span data-stu-id="b4aac-277">With respect to Azure Active Directory the maximum lifetime for a refresh token is 90 days.</span></span> <span data-ttu-id="b4aac-278">Para resolver esse erro, será necessário gerar e armazenar com segurança um novo token de atualização.</span><span class="sxs-lookup"><span data-stu-id="b4aac-278">To address this error, you will need to generate and securely store a new refresh token.</span></span> <span data-ttu-id="b4aac-279">Observe que é possível atualizar o token de atualização programaticamente porque, com cada solicitação de um token de acesso ao Azure Active Directory, um novo token de atualização é retornado.</span><span class="sxs-lookup"><span data-stu-id="b4aac-279">Note it is possible to update the refresh token programmatically because with each request to Azure Active Directory for an access token a new refresh token is returned.</span></span> <span data-ttu-id="b4aac-280">Você pode implementar a lógica apropriada para atualizar o token de atualização armazenado com segurança antes que ele expire.</span><span class="sxs-lookup"><span data-stu-id="b4aac-280">You can implement the appropriate logic to update the securely stored refresh token before it expires.</span></span>

<span data-ttu-id="b4aac-281">Consulte [Tempos de vida de tokens configuráveis no Azure Active Directory](https://docs.microsoft.com/azure/active-directory/develop/active-directory-configurable-token-lifetimes) para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="b4aac-281">See [Configurable token lifetimes in Azure Active Directory](https://docs.microsoft.com/azure/active-directory/develop/active-directory-configurable-token-lifetimes) for more information.</span></span>

### <a name="recovering-compromised-accounts"></a><span data-ttu-id="b4aac-282">Recuperando contas comprometidas</span><span class="sxs-lookup"><span data-stu-id="b4aac-282">Recovering compromised accounts</span></span>

<span data-ttu-id="b4aac-283">Para ajudar a proteger nossos clientes, o serviço de credenciamento vazado da Microsoft encontra pares de nome de usuário/senha disponíveis publicamente.</span><span class="sxs-lookup"><span data-stu-id="b4aac-283">To help protect our customers, Microsoft’s leaked credential service finds publicly available username/password pairs.</span></span> <span data-ttu-id="b4aac-284">Se eles corresponderem a um de nossos usuários, ajudaremos a proteger essa conta imediatamente.</span><span class="sxs-lookup"><span data-stu-id="b4aac-284">If they match one of our users, we help secure that account immediately.</span></span> <span data-ttu-id="b4aac-285">Os usuários identificados como tendo uma credencial vazada são confirmados como comprometidos.</span><span class="sxs-lookup"><span data-stu-id="b4aac-285">Users identified as having a leaked credential are confirmed compromised.</span></span> <span data-ttu-id="b4aac-286">Esses usuários serão impedidos de entrar até que a senha seja redefinida.</span><span class="sxs-lookup"><span data-stu-id="b4aac-286">These users will be blocked from signing in until their password is reset.</span></span>

<span data-ttu-id="b4aac-287">Os usuários com uma licença Azure AD Premium podem restaurar o acesso com a redefinição de senha por autoatendimento (SSPR) se a funcionalidade estiver habilitada em seu diretório.</span><span class="sxs-lookup"><span data-stu-id="b4aac-287">Users assigned an Azure AD Premium license can restore access through self-service password reset (SSPR) if the capability is enabled in their directory.</span></span> <span data-ttu-id="b4aac-288">Os usuários bloqueados sem uma licença Premium devem entrar em contato com um administrador para executar uma redefinição manual de senha e ignorar o evento de risco de usuário sinalizado.</span><span class="sxs-lookup"><span data-stu-id="b4aac-288">Users without a premium license that become blocked must contact an administrator to perform a manual password reset and dismiss the flagged user risk event.</span></span>

#### <a name="steps-to-unblock-a-user"></a><span data-ttu-id="b4aac-289">Para desbloquear um usuário</span><span class="sxs-lookup"><span data-stu-id="b4aac-289">Steps to unblock a user</span></span>

<span data-ttu-id="b4aac-290">Confirme se o usuário foi bloqueado pela política examinando os logs de entrada do usuário.</span><span class="sxs-lookup"><span data-stu-id="b4aac-290">Confirm that the user has been blocked by the policy by examining the user’s sign-in logs.</span></span>

1. <span data-ttu-id="b4aac-291">Um administrador precisa entrar no **portal do Azure** e navegar até **Azure Active Directory** > **Usuários** > clicar no nome do usuário e navegar até as Credenciais.</span><span class="sxs-lookup"><span data-stu-id="b4aac-291">An administrator needs to sign in to the **Azure portal** and navigate to **Azure Active Directory** > **Users** > click on the name of the user and navigate to Sign-ins.</span></span>
2. <span data-ttu-id="b4aac-292">Para iniciar a redefinição de senha em um usuário bloqueado, um administrador precisa navegar até **Azure Active Directory** > **Usuários sinalizados para risco**</span><span class="sxs-lookup"><span data-stu-id="b4aac-292">To initiate password reset on a blocked user, an administrator needs to navigate to **Azure Active Directory** > **Users flagged for risk**</span></span>
3. <span data-ttu-id="b4aac-293">Clique no usuário, cuja conta está bloqueada, para exibir informações sobre a atividade de entrada recente do usuário.</span><span class="sxs-lookup"><span data-stu-id="b4aac-293">Click on the user whose account is blocked to view information about the user’s recent sign-in activity.</span></span>
4. <span data-ttu-id="b4aac-294">Clique em Redefinir Senha para atribuir uma senha temporária que deve ser alterada no próximo logon.</span><span class="sxs-lookup"><span data-stu-id="b4aac-294">Click Reset Password to assign a temporary password that must be changed upon the next login.</span></span>
5. <span data-ttu-id="b4aac-295">Clique em Ignorar todos os eventos para redefinir a classificação de risco do usuário.</span><span class="sxs-lookup"><span data-stu-id="b4aac-295">Click Dismiss all events to reset the user’s risk score.</span></span>

<span data-ttu-id="b4aac-296">Agora, o usuário pode entrar, redefinir sua senha e acessar o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="b4aac-296">The user can now sign in, reset their password, and access the application.</span></span>

## <a name="known-issues"></a><span data-ttu-id="b4aac-297">Problemas conhecidos</span><span class="sxs-lookup"><span data-stu-id="b4aac-297">Known issues</span></span>

### <a name="exchange-online-powershell"></a><span data-ttu-id="b4aac-298">PowerShell do Exchange Online</span><span class="sxs-lookup"><span data-stu-id="b4aac-298">Exchange Online PowerShell</span></span>

<span data-ttu-id="b4aac-299">Quando a MFA é imposta, os parceiros não poderão utilizar seus privilégios administrativos delegados com o PowerShell do Exchange Online para executar ações em seus clientes.</span><span class="sxs-lookup"><span data-stu-id="b4aac-299">When MFA is enforced partners will not be able to utilize their delegated administrative privileges with Exchange Online PowerShell to perform actions against their customers.</span></span> <span data-ttu-id="b4aac-300">Confira [Conectar-se ao PowerShell do Exchange Online](https://docs.microsoft.com/powershell/exchange/exchange-online/connect-to-exchange-online-powershell/mfa-connect-to-exchange-online-powershell) usando a autenticação multifator para obter mais informações sobre essa limitação.</span><span class="sxs-lookup"><span data-stu-id="b4aac-300">See [Connect to Exchange Online PowerShell using multi-factor authentication](https://docs.microsoft.com/powershell/exchange/exchange-online/connect-to-exchange-online-powershell/mfa-connect-to-exchange-online-powershell) for more information regarding this limitation.</span></span>

<span data-ttu-id="b4aac-301">Você pode contornar essa limitação criando uma nova conta e nunca usá-la para executar uma autenticação interativa.</span><span class="sxs-lookup"><span data-stu-id="b4aac-301">You can work around this limitation by creating a new account and never using it to perform an interactive authentication.</span></span> <span data-ttu-id="b4aac-302">É recomendável que você utilize o [PowerShell do Azure AD](https://docs.microsoft.com/powershell/module/azuread/) para criar a nova conta e executar a configuração inicial.</span><span class="sxs-lookup"><span data-stu-id="b4aac-302">It is recommended that you leverage [Azure AD PowerShell](https://docs.microsoft.com/powershell/module/azuread/) to create the new account and perform the initial configuration.</span></span> <span data-ttu-id="b4aac-303">O PowerShell a seguir pode ser usado para criar e configurar a conta</span><span class="sxs-lookup"><span data-stu-id="b4aac-303">The following PowerShell can be used to create and configure the account</span></span>

```powershell
Import-Module AzureAD
Connect-AzureAD

$PasswordProfile = New-Object -TypeName Microsoft.Open.AzureAD.Model.PasswordProfile

$PasswordProfile.Password = "Password"
$PasswordProfile.ForceChangePasswordNextLogin = $false

$user = New-AzureADUser -DisplayName "New User" -PasswordProfile $PasswordProfile -UserPrincipalName "NewUser@contoso.com" -AccountEnabled $true

# Uncomment the following two lines if you want the account to have Admin Agent privileges
# $adminAgentsGroup = Get-AzureADGroup -Filter "DisplayName eq 'AdminAgents'"
# Add-AzureADGroupMember -ObjectId $adminAgentsGroup.ObjectId -RefObjectId $user.ObjectId
```

<span data-ttu-id="b4aac-304">Na próxima vez que você se conectar ao Exchange Online com o PowerShell, use essa conta, ela funcionará conforme o esperado.</span><span class="sxs-lookup"><span data-stu-id="b4aac-304">Next time you connect to Exchange Online through PowerShell use this account, it will work as expected.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="b4aac-305">A habilidade dos parceiros utilizarem seus privilégios administrativos delegados com o PowerShell do Exchange Online para executar ações em seus clientes, quando a MFA é imposta, estará disponível no futuro.</span><span class="sxs-lookup"><span data-stu-id="b4aac-305">The ability for partners to utilize their delegated administrative privileges with Exchange Online PowerShell to perform actions against their customers, when MFA is enforced, will be available in the future.</span></span> <span data-ttu-id="b4aac-306">Até lá, você deve aproveitar essa solução alternativa.</span><span class="sxs-lookup"><span data-stu-id="b4aac-306">Until then you should leverage this work around.</span></span>

## <a name="resources-and-support"></a><span data-ttu-id="b4aac-307">Recursos e suporte</span><span class="sxs-lookup"><span data-stu-id="b4aac-307">Resources and support</span></span>

<span data-ttu-id="b4aac-308">Com a Comunidade [Partner Center Security Guidance Group](https://www.microsoftpartnercommunity.com/t5/Partner-Center-Security-Guidance/ct-p/partner-center-security-guidance), você poderá encontrar recursos adicionais e aprender sobre eventos futuros, como horas úteis técnicas.</span><span class="sxs-lookup"><span data-stu-id="b4aac-308">Through the [Partner Center Security Guidance Group community](https://www.microsoftpartnercommunity.com/t5/Partner-Center-Security-Guidance/ct-p/partner-center-security-guidance) you can will find additional resources and learn about upcoming events such as technical office hours.</span></span> <span data-ttu-id="b4aac-309">Consulte o documento de [perguntas frequentes](partner-security-requirements-faq.md) para saber mais sobre os requisitos.</span><span class="sxs-lookup"><span data-stu-id="b4aac-309">See the [frequently asked questions](partner-security-requirements-faq.md) document to learn more about the requirements.</span></span>
